# HDF5 File Structure and Data Access Guide

This document provides an overview of the HDF5 file structure generated by the particle tracking code and instructions for reading the data using a Python snippet.

## File Structure

The HDF5 file consists of multiple groups, each representing a "chunk" of data. The structure contains the following key datasets:

### 1. **Boundary Data**
   - **`boundary_x`**: The x-coordinates of the ellipse boundary points.
   - **`boundary_y`**: The y-coordinates of the ellipse boundary points.
   - **`boundary_PV_gamma`**: The interpolated `PV_gamma` values at the boundary points.

### 2. **Electron and Proton Data**
   - **`electrons`**: A dataset containing the x and y positions, velocity components (`vx` and `vy`), and `landa` values of the electrons for the corresponding chunk.
   - **`protons`**: A dataset similar to `electrons`, but for protons.

## Example of Reading Data

Below is an example Python snippet to read and explore the HDF5 file:

```python
import h5py

# Define the path to the HDF5 file
output_file_path = "path/to/tracking_results.h5"

# Open the HDF5 file in read mode
with h5py.File(output_file_path, "r") as h5file:
    # List all groups (chunks) at the top level
    print("Groups in the file:")
    print(list(h5file.keys()))

    # Inspect a specific chunk (e.g., Chunk_18)
    chunk_name = "Chunk_18"  # Change to the desired chunk
    if chunk_name in h5file:
        print(f"Datasets in {chunk_name}:")
        print(list(h5file[chunk_name].keys()))

        # Read and print boundary data
        print(f"Boundary PV_gamma values for {chunk_name}:")
        PV_gamma_boundary_values = h5file[f"{chunk_name}/boundary_PV_gamma"][:]
        boundary_x = h5file[f"{chunk_name}/boundary_x"][:]
        boundary_y = h5file[f"{chunk_name}/boundary_y"][:]
        for x, y, value in zip(boundary_x, boundary_y, PV_gamma_boundary_values):
            print(f"x={x:.2f}, y={y:.2f}, PV_gamma={value:.4f}")

        # Read and print electron data
        print("Electron data:")
        print(h5file[f"{chunk_name}/electrons"][:])

        # Read and print proton data
        print("Proton data:")
        print(h5file[f"{chunk_name}/protons"][:])

```
## Notes

- Replace `"path/to/tracking_results.h5"` with the actual path to your HDF5 file.
- Modify `chunk_name` to specify the chunk you want to inspect (e.g., `Chunk_18`).
- This script enables you to:
  - Explore the groups (chunks) within the HDF5 file.
  - Retrieve and examine boundary positions along with their corresponding `PV_gamma` values.
  - Access detailed data for electrons and protons, including their positions, velocities, and `landa` values.
